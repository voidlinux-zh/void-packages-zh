# Template file for 'sing-geoip'
pkgname=sing-geoip
version=20231212
revision=1
short_desc="sing-geoip database"
maintainer="xiarenfan <xiarenfan1998@onionmail.com>"
license="GPL-3.0-or-later"
makedepends="wget"
_repo="SagerNet/${pkgname}"
homepage="https://github.com/${_repo}"

do_fetch() {
    wget ${homepage}/releases/download/${version}/geoip-cn.db
    wget ${homepage}/releases/download/${version}/geoip.db
    wget https://raw.githubusercontent.com/${_repo}/${version}/LICENSE
}

do_install() {
    vinstall "${XBPS_BUILDDIR}/geoip-cn.db" 0644 usr/share/${pkgname}/geoip-cn.db
    vinstall "${XBPS_BUILDDIR}/geoip.db" 0644 usr/share/${pkgname}/geoip.db
    vlicense "${XBPS_BUILDDIR}/LICENSE"
}
